"use strict";!function(e,o){void 0!==e&&e.factory("$LunarDeployCollection",["$http","$q","dialog","$LunarGlobal","$LunarModel",function(e,o,t,n,l){var r="/api/deploycollection",i={createDeployCollection:function(o){return e.post(r,angular.toJson(o))},getDeployCollection:function(){return e.get(r)},deleteDeployCollection:function(o){return e.delete(r+"/"+o)},updateDeployCollectionDescription:function(o){return e.put(r+"/"+o.id,angular.toJson(o))},migrateDeploy:function(o,t){return e.get("/api/deploy/migrate/"+o+"/"+t)}};return{deployCollectionService:i,deleteDeployCollection:function(e){var n=o.defer();return t.danger("确认删除","确认要删除吗？").then(function(e){if(e!==t.button.BUTTON_OK)throw""}).then(function(){i.deleteDeployCollection(e).then(function(){n.resolve()},function(e){n.reject(),t.error("删除失败",e.data.resultMsg)})},function(){n.reject()}),n.promise}}}])}(angular.module("LunarApp"));